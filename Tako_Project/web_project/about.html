<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
  <link rel="stylesheet" href="about.css">
  <link rel="stylesheet" href="nav.css">
  <link rel="stylesheet" href="menu.css">
</head>

<body>

<section id="Home">

  <div class="cart-panel">
    <div class="cart-header">
        <h2>Shopping Cart</h2>
        <button class="close-cart">X</button>
    </div>
    <ul class="cart-items">
        <li class="empty">Your cart is empty</li>
    </ul>
    <div class="cart-total">
        <strong>Total:</strong> <span class="total-price">P0.00</span>
    </div>
    <button class="checkout-button">CHECK OUT</button>
</div>

<nav>

<div class="logo">
<img src="takologo.jpg">
</div>

<ul>
<li><a href="home.html">Home</a></li>
<li><a href="about.html">About</a></li>
<li><a href="menu.html">Menu</a></li>
<li><a href="gallery.html">Gallery</a></li>
<li><a href="order.html">Order</a></li>
<li><a href="cart.html">ðŸ›’</a></li>
</ul>

<div class="icon">
<i class="fa-solid fa-magnifying-glass"></i>
<i class="fa-solid fa-heart"></i>
<i class="fa-solid fa-cart-shopping"></i>
</div>

</nav>

<div class="about" id="About">
<div class="about_main">
<div class="image">
<img src="about.jpg">
</div>

<div class="about_text">
<h1><span>About</span>Us</h1>
<p>
  Tako10, originally known as Teasure and Co., opened its doors in 2020.
   At that time, the burgeoning popularity of milk tea and boba tea in the Philippines served as the
   company's primary focus. Takoyaki was offered as a supplementary item on their menu,
   a small venture alongside their more established beverage offerings.
   However, the tide began to turn.  As takoyaki's popularity steadily increased within the
   local community of Calabarzon, Rizal,  Treasure and Co. recognized a significant opportunity for growth.
   This led to a strategic shift in their business model.  They gradually transitioned,
   dedicating more resources and attention to their takoyaki production and service.
   The quality of their takoyaki, combined with effective marketing and excellent customer service,
   propelled Tako10 to become a beloved and well-known establishment in their town, a testament to their
   adaptability and entrepreneurial spirit.  Their success story serves as an example of how recognizing
   and capitalizing on emerging trends can lead to significant business growth.
</p>
</div>

 </div>

 <script>
  function addToCart(itemName, price, image) {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      let existingItem = cart.find(item => item.name === itemName);

      if (existingItem) {
          existingItem.quantity++;
      } else {
          cart.push({
              name: itemName,
              price: parseFloat(price),
              image: 'images/' + image, 
              quantity: 1
          });
      }

      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartDisplay();
  }

  function updateCartDisplay() {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      let cartItems = document.querySelector('.cart-items');
      cartItems.innerHTML = '';

      if (cart.length === 0) {
          cartItems.innerHTML = '<li class="empty">Your cart is empty</li>';
      } else {
          cart.forEach((item, index) => {
              let li = document.createElement('li');
              let quantity = item.quantity || 1;
              let totalPrice = (item.price * quantity).toFixed(2);

              li.innerHTML = `
                  <img src="${item.image}" alt="${item.name}">
                  <span>${item.name}</span>
                  <div>
                      <button class="quantity-btn minus" data-index="${index}">-</button>
                      <span>${quantity}</span>
                      <button class="quantity-btn plus" data-index="${index}">+</button>
                  </div>
                  <span>P${totalPrice}</span>
                  <button class="remove-btn" data-index="${index}">Remove</button>
              `;
              cartItems.appendChild(li);
          });
      }
      calculateTotal();
  }

  function calculateTotal() {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      let total = cart.reduce((sum, item) => {
          return sum + (item.price * item.quantity);
      }, 0);
      document.querySelector('.total-price').textContent = `P${total.toFixed(2)}`;
  }

  function removeItem(index) {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      cart.splice(index, 1);
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartDisplay();
  }

  function changeQuantity(index, change) {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      if (cart[index].quantity + change > 0) {
          cart[index].quantity += change;
          localStorage.setItem('cart', JSON.stringify(cart));
          updateCartDisplay();
      }
  }

  document.querySelector('nav ul li a[href="cart.html"]').addEventListener('click', function(event) {
      event.preventDefault();
      document.querySelector('.cart-panel').classList.add('show');
      updateCartDisplay();
  });

  document.querySelector('.close-cart').addEventListener('click', () => {
      document.querySelector('.cart-panel').classList.remove('show');
  });

  document.addEventListener('click', function(event) {
      if (event.target.classList.contains('remove-btn')) {
          let index = event.target.dataset.index;
          removeItem(index);
      } else if (event.target.classList.contains('plus')) {
          let index = event.target.dataset.index;
          changeQuantity(index, 1);
      } else if (event.target.classList.contains('minus')) {
          let index = event.target.dataset.index;
          changeQuantity(index, -1);
      }
  });

  document.getElementById('checkoutButton').addEventListener('click', function() {
      window.location.href = 'order.html'; 
  });
</script>

</body>

</html>